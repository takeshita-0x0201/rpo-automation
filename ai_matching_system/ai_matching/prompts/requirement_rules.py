"""
必須要件と歓迎要件の区別ルール
"""

class RequirementRules:
    """要件区別のルールとプロンプト"""
    
    REQUIREMENT_DISTINCTION = """# 【最重要】必須要件と歓迎要件の区別
## 必須要件（required_skills / 必須経験）
- 候補者が持っていなければならない要件
- 不足している場合は懸念点として記載する
- 評価の45%を占める

## 歓迎要件（preferred_skills / 歓迎経験 / 業界経験）
- あればプラスになる要件
- 不足していても懸念点には記載しない
- 評価の15%を占める（純粋な加点要素）
- 特定業界の経験は多くの場合歓迎要件

【重要】「飲食、物流、小売業界の経験」「新規顧客獲得経験」などが歓迎要件の場合、
それらがなくても絶対に懸念点として記載しない"""
    
    CONCERN_WRITING_RULES = """主な懸念点:
【超重要】以下のルールを厳守すること：
1. 必須要件（required_skills/必須経験）の不足のみを記載
2. 歓迎要件（preferred_skills/歓迎経験）の不足は絶対に記載しない
3. 「業界知識不足」は、それが必須要件である場合のみ記載

記載フォーマット：
- [必須要件の不足のみを記載（「○○の必須要件を満たしていない」と明確に）]
- [必須要件不足による具体的な業務遂行上のリスク]

【絶対に記載してはいけない例】
× 飲食、物流、小売業界への営業経験がない（これが歓迎要件の場合）
× 新規顧客獲得の経験が不明（これが歓迎要件の場合）
× 特定業界の知識がない（これが歓迎要件の場合）

【記載すべき例】
○ 5年以上の法人営業経験（必須要件）を満たしていない
○ マネジメント経験（必須要件）が確認できない"""
    
    EVALUATION_NOTES = """# 評価の注意点
- **構造化データ（required_skills、preferred_skills）を最優先で使用**
- 構造化データで判断できない項目のみ、求人票（job_description）を参照
- 必須要件と歓迎要件を明確に区別
- 必須要件の不足は致命的な問題として扱う
- 必須要件を1つでも満たさない場合、その影響を懸念点で詳細に説明
- 歓迎要件は純粋な加点要素として評価（満たしていなくても懸念点には含めない）
- 歓迎要件の不足を理由に候補者を否定的に評価しない
- レジュメに記載された事実・経歴のみで判断（ポテンシャルや可能性は評価しない）
- 「面接でカバー可能」「今後の成長に期待」等の楽観的評価は一切含めない
- 最終的に「現時点の経歴でクライアントがこの候補者と面談すべきか」で判断
- 必須要件不足の候補者は原則として推薦しない姿勢で評価

# 懸念点記載のルール
- 懸念点には必須要件の不足のみを記載する
- 歓迎要件が満たされていないことは懸念点として扱わない
- 「○○の歓迎要件はないが...」のような記載は避ける
- 歓迎要件は「あれば嬉しい」レベルであることを理解する"""
    
    @staticmethod
    def format_strengths_section() -> str:
        """強みセクションのフォーマット"""
        return """主な強み:
- [必須要件との合致点を優先的に記載]
- [歓迎要件の充足があれば「○○の歓迎要件も満たしている」と明記]
- [突出した経歴・実績があれば強調（「○○での実績は業界でも稀少」等）]
- [「会ってみたい」と思わせる要素を明記]"""